From eac543ffd6a373e0123503c8c0340acfcc699cf4 Mon Sep 17 00:00:00 2001
From: ruslanbay <67730802+ruslanbay@users.noreply.github.com>
Date: Wed, 7 Jan 2026 20:24:04 +0100
Subject: [PATCH 24/58] =?UTF-8?q?hack:=20disable=20failing=20check=20becau?=
 =?UTF-8?q?se=20the=20sensor=20has=20a=20fixed=20hardware=20rotation=20of?=
 =?UTF-8?q?=20180=C2=B0?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 drivers/media/pci/intel/ipu-isys-queue.c | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

diff --git a/drivers/media/pci/intel/ipu-isys-queue.c b/drivers/media/pci/intel/ipu-isys-queue.c
index d95bee52fcb1..075cb3ad7e5d 100644
--- a/drivers/media/pci/intel/ipu-isys-queue.c
+++ b/drivers/media/pci/intel/ipu-isys-queue.c
@@ -795,11 +795,19 @@ int ipu_isys_link_fmt_validate(struct ipu_isys_queue *aq)
 		return -EINVAL;
 	}
 
+	/*
+	* Bayer format mismatch might be caused by 180°
+	* hardware rotation (e.g., SBGGR10 vs SGBRG10).
+	* Note: v4l2-ctl reports sensor H/V flips are active,
+	* which shifts the starting color of the Bayer mosaic:
+	* H-flip swaps colors horizontally (e.g., Blue -> Green).
+	* V-flip swaps colors vertically (e.g., Blue -> Red). 
+	*/
 	if (fmt.format.code != av->pfmt->code) {
-		dev_dbg(&av->isys->adev->dev,
+		dev_warn(&av->isys->adev->dev,
 			"wrong media bus code 0x%8.8x (0x%8.8x expected)\n",
 			av->pfmt->code, fmt.format.code);
-		return -EINVAL;
+		// return -EINVAL;
 	}
 
 	return 0;
-- 
2.51.0

