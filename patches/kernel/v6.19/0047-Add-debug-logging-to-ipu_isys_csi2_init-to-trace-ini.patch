From 90a57e25b9cebc6fe4fef823ec884955111168bd Mon Sep 17 00:00:00 2001
From: Ruslan Bay <67730802+ruslanbay@users.noreply.github.com>
Date: Tue, 17 Feb 2026 05:59:55 +0000
Subject: [PATCH 47/56] Add debug logging to ipu_isys_csi2_init to trace
 initialization progress

---
 drivers/media/pci/intel/ipu-isys-csi2.c | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/drivers/media/pci/intel/ipu-isys-csi2.c b/drivers/media/pci/intel/ipu-isys-csi2.c
index 59be282c8d50..a499ca00dd0e 100644
--- a/drivers/media/pci/intel/ipu-isys-csi2.c
+++ b/drivers/media/pci/intel/ipu-isys-csi2.c
@@ -678,6 +678,8 @@ int ipu_isys_csi2_init(struct ipu_isys_csi2 *csi2,
 	csi2->remote_streams = 1;
 	csi2->stream_count = 0;
 
+	dev_info(&isys->adev->dev, "CSI-2 %u: calling ipu_isys_subdev_init\n",
+		index);
 	rval = ipu_isys_subdev_init(&csi2->asd, &csi2_sd_ops, 0,
 				    NR_OF_CSI2_PADS,
 				    NR_OF_CSI2_STREAMS,
@@ -714,6 +716,8 @@ int ipu_isys_csi2_init(struct ipu_isys_csi2 *csi2,
 	v4l2_set_subdevdata(&csi2->asd.sd, &csi2->asd);
 
 	mutex_lock(&csi2->asd.mutex);
+	dev_info(&isys->adev->dev, "CSI-2 %u: registering v4l2 subdev\n",
+		index);
 	rval = v4l2_device_register_subdev(&isys->v4l2_dev, &csi2->asd.sd);
 	if (rval) {
 		mutex_unlock(&csi2->asd.mutex);
@@ -765,6 +769,9 @@ int ipu_isys_csi2_init(struct ipu_isys_csi2 *csi2,
 		csi2->av[i].aq.vbq.buf_struct_size =
 		    sizeof(struct ipu_isys_video_buffer);
 
+		dev_info(&isys->adev->dev,
+			"CSI-2 %u: calling ipu_isys_video_init for source pad %d\n",
+			index, i);
 		rval = ipu_isys_video_init(&csi2->av[i],
 					   &csi2->asd.sd.entity,
 					   CSI2_PAD_SOURCE(i),
@@ -795,6 +802,9 @@ int ipu_isys_csi2_init(struct ipu_isys_csi2 *csi2,
 	csi2->av_meta.aq.vbq.buf_struct_size =
 	    sizeof(struct ipu_isys_video_buffer);
 
+	dev_info(&isys->adev->dev,
+		"CSI-2 %u: calling ipu_isys_video_init for meta pad\n",
+		index);
 	rval = ipu_isys_video_init(&csi2->av_meta, &csi2->asd.sd.entity,
 				   CSI2_PAD_META, MEDIA_PAD_FL_SINK, 0);
 	if (rval) {
-- 
2.51.0

