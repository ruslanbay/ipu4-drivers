From 344da3a8add6b2adff301fb6e65511b8f32cf04e Mon Sep 17 00:00:00 2001
From: ruslanbay <67730802+ruslanbay@users.noreply.github.com>
Date: Sun, 21 Dec 2025 19:47:38 +0100
Subject: [PATCH 30/55] match v4l2_subdev_pad_ops.set_routing signature

---
 drivers/media/pci/intel/ipu-isys-subdev.c | 4 +++-
 drivers/media/pci/intel/ipu-isys-subdev.h | 4 +++-
 2 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/drivers/media/pci/intel/ipu-isys-subdev.c b/drivers/media/pci/intel/ipu-isys-subdev.c
index 042cc568c307..0ff2d259a1bb 100644
--- a/drivers/media/pci/intel/ipu-isys-subdev.c
+++ b/drivers/media/pci/intel/ipu-isys-subdev.c
@@ -529,7 +529,9 @@ bool ipu_isys_subdev_has_route(struct media_entity *entity,
 }
 
 int ipu_isys_subdev_set_routing(struct v4l2_subdev *sd,
-				struct v4l2_subdev_routing *route)
+			   struct v4l2_subdev_state *state,
+			   enum v4l2_subdev_format_whence which,
+			   struct v4l2_subdev_krouting *route)
 {
 	struct ipu_isys_subdev *asd = to_ipu_isys_subdev(sd);
 	int i, j, ret = 0;
diff --git a/drivers/media/pci/intel/ipu-isys-subdev.h b/drivers/media/pci/intel/ipu-isys-subdev.h
index e59f846550e9..1cbf82858bf5 100644
--- a/drivers/media/pci/intel/ipu-isys-subdev.h
+++ b/drivers/media/pci/intel/ipu-isys-subdev.h
@@ -165,7 +165,9 @@ void ipu_isys_subdev_cleanup(struct ipu_isys_subdev *asd);
 int ipu_isys_subdev_get_frame_desc(struct v4l2_subdev *sd,
 				   struct v4l2_mbus_frame_desc *desc);
 int ipu_isys_subdev_set_routing(struct v4l2_subdev *sd,
-				struct v4l2_subdev_routing *route);
+			   struct v4l2_subdev_state *state,
+			   enum v4l2_subdev_format_whence which,
+			   struct v4l2_subdev_krouting *route);
 int ipu_isys_subdev_get_routing(struct v4l2_subdev *sd,
 				struct v4l2_subdev_routing *route);
 bool ipu_isys_subdev_has_route(struct media_entity *entity,
-- 
2.51.0

